$(document).ready(function(){var a="/ant/ant/";var b=2000;editAreaLoader.window_loaded();editAreaLoader.init({id:"ns3code",start_highlight:true,allow_resize:"both",allow_toggle:false,word_wrap:true,language:"en",syntax:"cpp",replace_tab_by_spaces:4});
$("textarea.resizable:not(.processed)").TextAreaResizer();$("div.ns3-form button#clear").click(function(c){$("div.ns3-code-output").text("");$("div.ns3-code-trace").text("")});$("div.ns3-form button#run").click(function(d){d.preventDefault();
$("div.ns3-code-output").text("");$("div.ns3-code-trace").text("");var c={ns3code:editAreaLoader.getValue("ns3code")};$("div.ns3-code-output").text(c);var e=$(document.createElement("img"));e.attr({src:"/cse28/ant/v_media/images/ajax/ajax_loader.gif",alt:"Loading ..."}).css({width:"auto",height:"auto",border:0,margin:0,"padding-left":"44.5%","padding-right":"44.5%","padding-top":"25px","padding-bottom":"25px"});
$("div.ns3-code-output").append(e);$("textarea.ns3-code-trace").html(e);$.ajax({type:"POST",url:dutils.urls.resolve("ns3_submit"),data:c,cache:false,success:function(f,j,h){var g=$.parseJSON(f);var i="Simulation # <b>"+g.id+"</b> has been submitted. \n                <br>The result will appear here shortly.";
if(g.id){$(document.createElement("p")).html(i).css("text-align","center").attr("class","sim-start-mesg").appendTo("div.ns3-code-output");$.poll(b,function(k){var l=dutils.urls.resolve("task_state",{task_id:g.id});
$.getJSON(l,function(o){var m=o.task;if(m.status.toUpperCase()=="SUCCESS"){$("p.sim-start-mesg").html("<b>Simulation completed ... Loading output</b>");var n=m.result;$("div.ns3-code-output").html(n.mesg.replace(/\n/g,"<br>"))
}else{k()}})})}},error:function(f,h,g){$("div.ns3-code-output").html("Error: "+h+"; "+g+"; "+f.responseText)},dataType:"html"});return false});$("#filter-btn").click(function(h){var g=0;var j=$.trim($("#filter-pattern").val());
if(j.length==0){alert("Please type in a pattern to search!");$("#filter-pattern").focus();return}var c=[];var d="";var f=$(".ns3-code-output").html();if(f.search("<br>")>=0){c=f.split("<br>")}else{c=f.split("<BR>")
}for(var e in c){if(c[e].match(j)){++g;d=[d,c[e]].join("<br>")}}$(".filtered-output").html(d);$("#pattern-match-count").text(g)})});